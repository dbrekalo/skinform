!function(s,t){"use strict";function a(a,t){if(!s.data(a,"skinform")){var p=s(a),l;p.is("select")?l=new i(a,t&&t.select):p.is('input[type="checkbox"]')?l=new n(a,t&&t.checkbox):p.is('input[type="radio"]')?l=new o(a,t&&t.radio):p.is('input[type="file"]')&&(l=new e(a,t&&t.file)),l&&s.data(a,"skinform",l)}}function i(t,i){this.options=s.extend({},s.skinform.defaults.select,i),this.$select=s(t),this.init()}function n(t,i){this.options=s.extend({},s.skinform.defaults.checkbox,i),this.$input=s(t),this.init()}function e(t,i){this.options=s.extend({},s.skinform.defaults.file,i),this.input=t,this.init()}function o(t,i){this.options=s.extend({},s.skinform.defaults.radio,i),this.input=t,this.init()}var l=t.app&&t.app.$window||s(t);i.prototype={init:function(){this.$el=this.$select.wrap('<div class="'+this.options.skinClass+'" />').parent(),this.$btn=s("<span>").addClass(this.options.btnClass).text(this.$select.find("option:selected").text()).appendTo(this.$el),this.$select.data("class")&&this.$el.addClass(this.$select.data("class")),this.$select.data("btn-class")&&this.$btn.addClass(this.$select.data("btn-class")),this.events()},events:function(){var s=this;this.$select.on({focus:function(){s.$el.addClass(s.options.focusClass)},blur:function(){s.$el.removeClass(s.options.focusClass)},change:function(){s.$btn.text(s.$select.find("option:selected").text())}})}},n.prototype={init:function(){this.$el=this.$input.parent(),this.$el.is("label")?this.$el.addClass(this.options.skinClass):(this.$el=this.$input.wrap('<label class="'+this.options.skinClass+'"></label>').parent(),this.$el.prepend(this.$input.attr("value"))),this.$input.prop("checked")&&this.$el.addClass(this.options.toggleClass),this.$input.data("class")&&this.$el.addClass(this.$input.data("class")),this.events()},events:function(){var s=this;s.$input.on({change:function(){s.$el.toggleClass(s.options.toggleClass)},focus:function(){s.$el.addClass(s.options.focusClass)},blur:function(){s.$el.removeClass(s.options.focusClass)}})}},e.prototype={init:function(){this.$input=s(this.input),this.$el=s('<div class="'+this.options.skinClass+'">'),this.$label=s('<div class="'+this.options.labelClass+'">'+this.options.labelText+"</div>").appendTo(this.$el),this.$btn=s('<div class="'+this.options.btnClass+'">'+this.options.btnText+"</div>").appendTo(this.$el),this.$el.insertAfter(this.$input),this.$input.appendTo(this.$el),this.events()},events:function(){var s=this;this.$input.on({focus:function(){s.$input.data("val",this.$input.val())},blur:function(){s.$input.trigger("checkChange")},checkChange:function(){var t=s.$input.val();t&&t!=s.$input.data("val")&&s.$input.trigger("change")},change:function(){var t=s.$input.val().split(/\\/).pop(),i="skinfileExt-"+t.split(".").pop().toLowerCase();s.$label.text(t).removeClass(s.$label.data("fileExtClass")||"").addClass(i).data("fileExtClass",i),s.$btn.text(s.options.btnChangeText)},click:function(){s.$input.data("val",s.$input.val()),setTimeout(function(){s.$input.trigger("checkChange")},100)}}),this.$el.on("mousemove",function(t){var i={left:t.pageX-s.$el.offset().left-s.$input.outerWidth()+20,top:t.pageY-s.$el.offset().top-l.scrollTop()-3};s.options.fixedPosition&&(i.top=t.pageY-s.$el.offset().top-3),s.$input.css(i)})}},o.prototype={init:function(){var i,t=this;this.$input=s(this.input),i=this.input.name,s.data(this.input,"skinform-"+i)||(this.$wrap=this.$input.closest(this.options.groupSelector?this.options.groupSelector:"form"),this.$wrap.length||(this.$wrap=s("body")),this.$elems=this.$wrap.find('input[name="'+i+'"]'),this.$labels=s(),this.$elems.each(function(){var o=this,e=s(this),n=e.parent();n.is("label")?n.addClass(t.options.skinClass):(n=e.wrap('<label class="'+t.options.skinClass+'"></label>').parent(),n.prepend(o.value)),e.prop("checked")&&n.addClass(t.options.toggleClass),t.$labels=t.$labels.add(n),s.data(o,"skinform-"+i,t)}),this.events())},events:function(){var t=this;this.$elems.on({change:function(){t.$labels.removeClass(t.options.toggleClass),s(this).parent().addClass(t.options.toggleClass)},focus:function(){t.$labels.removeClass(t.options.focusClass),s(this).parent().addClass(t.options.focusClass)},blur:function(){s(this).parent().removeClass(t.options.focusClass)}})}},s.skinform={},s.fn.skinform=function(s){return this.each(function(){a(this,s)})},s.skinform.defaults={select:{skinClass:"skin_select",btnClass:"btn",focusClass:"focused"},checkbox:{skinClass:"skin_checkbox",toggleClass:"on",focusClass:"focused"},radio:{skinClass:"skin_radio",toggleClass:"on",focusClass:"focused",groupSelector:null},file:{skinClass:"skin_file",btnClass:"skin_file_btn",labelClass:"skin_file_label",btnText:"Odaberi",btnChangeText:"Promijeni",labelText:"Odaberite datoteku"}}}(window.jQuery||window.Zepto,window);